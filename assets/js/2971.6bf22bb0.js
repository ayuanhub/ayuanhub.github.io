"use strict";(self.webpackChunkcvmdoc=self.webpackChunkcvmdoc||[]).push([[2971],{999:(e,t,a)=>{a.d(t,{a:()=>i,b:()=>n});var r=a(1846),s=a(9564),i=class extends Error{static{(0,s.a)(this,"OramaClientNotInitializedError")}constructor(){super("Orama Client is not initialized")}},n=class{static{(0,s.a)(this,"ChatService")}constructor(e){this.sendQuestion=e=>{if(!this.oramaClient)throw new i;return this.answerSession||(this.answerSession=this.oramaClient.createAnswerSession({events:{onStateChange:(0,s.a)((e=>{let t=e.filter((e=>!!e.query));r.b.interactions=t.map(((t,a)=>{var s;let i=r.a.loading;t.aborted?i=r.a.aborted:t.loading&&t.sources?i=r.a.rendering:t.loading&&t.response?i=r.a.streaming:!t.loading&&t.response&&(i=r.a.done);let n=null===(s=t.sources)||void 0===s?void 0:s.map((e=>e.document));return{query:t.query,interactionId:t.interactionId,response:t.response,relatedQueries:t.relatedQueries,status:i,latest:e.length-1===a,sources:n}}))}),"onStateChange")}})),this.answerSession.ask({term:e,related:{howMany:3,format:"question"}}).catch((e=>{r.b.interactions=r.b.interactions.map(((e,t)=>t===r.b.interactions.length-1?Object.assign(Object.assign({},e),{status:r.a.error}):e)),console.error(e)}))},this.abortAnswer=()=>{if(!this.answerSession)throw new i;this.answerSession.abortAnswer()},this.regenerateLatest=async()=>{if(!this.answerSession)throw new i;this.answerSession.regenerateLast({stream:!1})},this.resetChat=async()=>{if(!this.answerSession)throw new i;r.b.interactions.length<1||(["loading","rendering","streaming"].includes(r.b.interactions[r.b.interactions.length-1].status)&&this.answerSession.abortAnswer(),this.answerSession.clearSession())},this.oramaClient=e}}},2971:(e,t,a)=>{a.r(t),a.d(t,{orama_chat_box:()=>p});var r=a(999),s=a(7480),i=a(1846),n=a(561),o=(a(517),a(6653)),c=a(9564),h=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d=(0,c.a)(((e,t,a,r)=>{for(var s,i=r>1?void 0:r?l(t,a):t,n=e.length-1;n>=0;n--)(s=e[n])&&(i=(r?s(t,a,i):s(i))||i);return r&&i&&h(t,a,i),i}),"o"),g=class extends n.d{static{(0,c.a)(this,"t")}constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return n.b`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${g.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};g.weightsMap=new Map([["thin",n.c`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",n.c`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",n.c`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",n.c`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",n.c`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",n.c`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),g.styles=n.a`
    :host {
      display: contents;
    }
  `,d([(0,n.f)({type:String,reflect:!0})],g.prototype,"size",2),d([(0,n.f)({type:String,reflect:!0})],g.prototype,"weight",2),d([(0,n.f)({type:String,reflect:!0})],g.prototype,"color",2),d([(0,n.f)({type:Boolean,reflect:!0})],g.prototype,"mirrored",2),g=d([(0,n.e)("ph-arrow-clockwise")],g);var p=class{static{(0,c.a)(this,"ChatBox")}constructor(e){(0,o.a)(this,e),this.index=void 0,this.clientInstance=void 0,this.sourceBaseUrl=void 0,this.placeholder=void 0,this.sourcesMap=void 0,this.suggestions=void 0,this.oramaClient=void 0,this.componentID=(0,s.e)("chat-box")}indexChanged(){this.startChatService()}componentWillLoad(){this.el.id=this.componentID,this.startChatService()}startChatService(){(0,s.c)(this.el,this.index,this.clientInstance),this.oramaClient=this.clientInstance||(0,s.d)(this.index),i.b.chatService=new r.b(this.oramaClient)}render(){return i.b.chatService?(0,o.b)(o.c,{class:"theme-dark"},(0,o.b)("orama-chat",{placeholder:this.placeholder,sourceBaseUrl:this.sourceBaseUrl,sourcesMap:this.sourcesMap,suggestions:this.suggestions})):(0,o.b)("orama-text",{as:"p"},"Unable to initialize chat service")}get el(){return(0,o.d)(this)}static get watchers(){return{index:["indexChanged"]}}};p.style=":host{display:flex;flex-grow:1}.header{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));text-align:end;transition:opacity .2s}.header.hidden button{opacity:0;pointer-events:none}.header button{align-items:center;background-color:transparent;border:none;border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:inline-flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.125rem .25rem;padding:var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));transition:color .2s;transition:background-color .2s}.header button,.header button:hover{color:#99989d;color:var(--text-color-tertiary,#99989d)}.header button:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}"}}]);